{% extends 'ServiceJobs/base.html' %}
{% load bootstrap4 %}
{% block content %}

    <h1>Kalendarz</h1>
       <div id='calendar'></div>
   <script>

       $(document).ready(function() {

           $('#calendar').fullCalendar({
                   header: {
                   left: 'prev,next today',
                   center: 'title',
                   right: 'month,agendaWeek,agendaDay,listMonth'
               },
               locale: 'pl',
               //defaultDate: '2017-05-12',
               buttonIcons: true, // show the prev/next text
               weekNumbers: true,
               navLinks: true, // can click day/week names to navigate views
               editable: true,
               eventLimit: true,

               // defaultDate: '2016-07-19',
               // editable: true,
               // eventLimit: true, // allow "more" link when too many events
               events: [
                   {% for event in openEvents %}
                       {
                           title: "{{ event.job.jobType }} {{ event.job.device }}",
                           start: '{{ event.startDateTime|date:"Y-m-d H:i" }}',
                           end: "{{ event.endDateTime|date:"Y-m-d H:i" }}",
                           url: '{% url 'event-detail' event.job_id %}',
                           color: {% if event.job.jobType_id == 1 %} '#e34e42'
                                    {% elif event.job.jobType_id == 2 %} '#f09b2c'
                                    {% elif event.job.jobType_id == 3 %} '#2940b8'
                                    {% elif event.job.jobType_id == 4 %} '#49914d'
                                    {% endif %}
                       },
                   {% endfor %}
                   {% for event in closedEvents %}
                       {
                           title: "{{ event.job.jobType }} {{ event.job.device }}",
                           start: '{{ event.startDateTime|date:"Y-m-d H:i" }}',
                           end: "{{ event.endDateTime|date:"Y-m-d H:i" }}",
                           url: '{% url 'event-detail' event.job_id %}',
                           color: {% if event.job.jobType_id == 1 %} '#e34e42'
                                    {% elif event.job.jobType_id == 2 %} '#f09b2c'
                                    {% elif event.job.jobType_id == 3 %} '#B8A89A'
                                    {% elif event.job.jobType_id == 4 %} '#49914d'
                                    {% endif %}
                       },
                   {% endfor %}

               ]
           });

       });

</script>


{% endblock %}